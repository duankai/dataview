<html>
    <script src="/static/echarts.js"></script>
    <script src="/static/china.js"></script>
	<body>
		hello world
		<div id="mapChart" style="width:1200px;height:600px; margin-top:100px"></div>
	</body>
<script>
var data = [ 
{name:"三明",value:96727}, 
{name:"大庆",value:201617}, 
{name:"曲靖",value:44147}, 
{name:"邢台",value:223740}, 
{name:"云浮",value:51107}, 
{name:"乌海",value:21305}, 
{name:"白银",value:16766}, 
{name:"烟台",value:333080}, 
{name:"贺州",value:8730}, 
{name:"衡水",value:266282}, 
{name:"北京",value:8455662}, 
{name:"上海",value:1150271}, 
{name:"株洲",value:50992}, 
{name:"锡林郭勒盟",value:13086}, 
{name:"抚顺",value:236561}, 
{name:"通化",value:65120}, 
{name:"龙岩",value:92578}, 
{name:"温州",value:1300847}, 
{name:"乌鲁木齐",value:333149}, 
{name:"青岛",value:645654}, 
{name:"北海",value:57507}, 
{name:"绵阳",value:97683}, 
{name:"扬州",value:103002}, 
{name:"白山",value:49431}, 
{name:"延边朝鲜族自治州",value:142919}, 
{name:"普洱",value:6455}, 
{name:"重庆",value:1646305}, 
{name:"岳阳",value:306758}, 
{name:"济南",value:2313948}, 
{name:"荆门",value:60469}, 
{name:"六安",value:41619}, 
{name:"玉溪",value:39903}, 
{name:"绍兴",value:130117}, 
{name:"铁岭",value:103284}, 
{name:"嘉峪关",value:25641}, 
{name:"洛阳",value:221595}, 
{name:"亳州",value:37040}, 
{name:"黄冈",value:67901}, 
{name:"济宁",value:236998}, 
{name:"抚州",value:30252}, 
{name:"嘉兴",value:325245}, 
{name:"商洛",value:35754}, 
{name:"黄石",value:50445}, 
{name:"松原",value:56581}, 
{name:"南宁",value:552502}, 
{name:"辽源",value:25657}, 
{name:"郴州",value:136255}, 
{name:"宣城",value:35566}, 
{name:"鄂州",value:33147}, 
{name:"濮阳",value:139128}, 
{name:"雅安",value:38612}, 
{name:"呼伦贝尔",value:106081}, 
{name:"新疆维吾尔自治区",value:1}, 
{name:"凉山彝族自治州",value:22329}, 
{name:"齐齐哈尔",value:235526}, 
{name:"厦门",value:379677}, 
{name:"果洛藏族自治州",value:417}, 
{name:"阜新",value:122829}, 
{name:"咸阳",value:113017}, 
{name:"秦皇岛",value:199501}, 
{name:"泸州",value:46809}, 
{name:"九江",value:54563}, 
{name:"许昌",value:179586}, 
{name:"阿拉善盟",value:9046}, 
{name:"内江",value:53515}, 
{name:"南通",value:206735}, 
{name:"大兴安岭地区",value:15124}, 
{name:"昭通",value:15237}, 
{name:"西双版纳傣族自治州",value:11395}, 
{name:"楚雄彝族自治州",value:8781}, 
{name:"那曲地区",value:180}, 
{name:"泰安",value:150520}, 
{name:"阿勒泰地区",value:7583}, 
{name:"张掖",value:27730}, 
{name:"上饶",value:23972}, 
{name:"运城",value:283518}, 
{name:"滨州",value:242529}, 
{name:"安顺",value:32184}, 
{name:"通辽",value:111654}, 
{name:"韶关",value:72510}, 
{name:"长春",value:415823}, 
{name:"湖州",value:87322}, 
{name:"宜春",value:38949}, 
{name:"江门",value:94575}, 
{name:"昌都地区",value:410}, 
{name:"榆林",value:48138}, 
{name:"太原",value:1143415}, 
{name:"拉萨",value:12252}, 
{name:"巴音郭楞蒙古自治州",value:63991}, 
{name:"赤峰",value:159096}, 
{name:"滁州",value:69818}, 
{name:"包头",value:561195}, 
{name:"喀什地区",value:11615}, 
{name:"苏州",value:689776}, 
{name:"大同",value:133977}, 
{name:"钦州",value:97087}, 
{name:"汕头",value:138457}, 
{name:"新乡",value:481075}, 
{name:"西安",value:1321109}, 
{name:"延安",value:30351}, 
{name:"陇南",value:10371}, 
{name:"兰州",value:776342}, 
{name:"邵阳",value:70381}, 
{name:"汕尾",value:47710}, 
{name:"酒泉",value:42696}, 
{name:"七台河",value:35086}, 
{name:"宿州",value:72980}, 
{name:"鸡西",value:138497}, 
{name:"池州",value:14726}, 
{name:"安康",value:25851}, 
{name:"阿坝藏族羌族自治州",value:8873}, 
{name:"海北藏族自治州",value:1620}, 
{name:"阿里地区",value:28}, 
{name:"遵义",value:84974}, 
{name:"无锡",value:176825}, 
{name:"锦州",value:153593}, 
{name:"渭南",value:193799}, 
{name:"淄博",value:233646}, 
{name:"湘西土家族苗族自治州",value:24070},  
{name:"遂宁",value:39955}, 
{name:"潮州",value:43010}, 
{name:"德阳",value:127549}, 
{name:"沧州",value:287804}, 
{name:"南京",value:1386294}, 
{name:"梧州",value:35498}, 
{name:"孝感",value:41559}, 
{name:"廊坊",value:416670}, 
{name:"珠海",value:196340}, 
{name:"长沙",value:982971}, 
{name:"郑州",value:2609278}, 
{name:"海西蒙古族藏族自治州",value:8565}, 
{name:"临夏回族自治州",value:7824}, 
{name:"怒江傈僳族自治州",value:1523}, 
{name:"三亚",value:22223}, 
{name:"舟山",value:21782}, 
{name:"南昌",value:964281}, 
{name:"自贡",value:27511}, 
{name:"揭阳",value:117869}, 
{name:"海口",value:195428}, 
{name:"佳木斯",value:140280}, 
{name:"连云港",value:110363}, 
{name:"省直辖县级行政区划",value:99495}, 
{name:"铜陵",value:15682}, 
{name:"丹东",value:98058}, 
{name:"信阳",value:91912}, 
{name:"张家口",value:157435}, 
{name:"玉树藏族自治州",value:204}, 
{name:"梅州",value:58826}, 
{name:"宿迁",value:73528}, 
{name:"长治",value:154573}, 
{name:"汉中",value:76327}, 
{name:"聊城",value:230713}, 
{name:"德州",value:140253}, 
{name:"黑河",value:45601}, 
{name:"文山壮族苗族自治州",value:10077}, 
{name:"绥化",value:91036}, 
{name:"金华",value:162278}, 
{name:"朔州",value:35044}, 
{name:"广东省",value:3}, 
{name:"毕节地区",value:25154}, 
{name:"红河哈尼族彝族自治州",value:32329}, 
{name:"中卫",value:17340}, 
{name:"漳州",value:103659}, 
{name:"鞍山",value:183113}, 
{name:"临沧",value:5849}, 
{name:"衢州",value:42102}, 
{name:"鹰潭",value:18752}, 
{name:"佛山",value:1630602}, 
{name:"周口",value:117467}, 
{name:"中国",value:7}, 
{name:"巴中",value:21263}, 
{name:"唐山",value:669743}, 
{name:"四平",value:145268}, 
{name:"商丘",value:167565}, 
{name:"银川",value:202597}, 
{name:"本溪",value:256455}, 
{name:"随州",value:19214}, 
{name:"晋城",value:203049}, 
{name:"鹤岗",value:64836}, 
{name:"来宾",value:21187}, 
{name:"日喀则地区",value:583}, 
{name:"柳州",value:171257}, 
{name:"庆阳",value:21819}, 
{name:"NA",value:357}, 
{name:"伊春",value:98464}, 
{name:"保山",value:8422}, 
{name:"吉林",value:825475}, 
{name:"安庆",value:48570}, 
{name:"营口",value:99777}, 
{name:"湖南省",value:1}, 
{name:"常德",value:107838}, 
{name:"娄底",value:304382}, 
{name:"阜阳",value:175396}, 
{name:"泰州",value:99165}, 
{name:"广元",value:31331}, 
{name:"焦作",value:135241}, 
{name:"哈尔滨",value:1605376}, 
{name:"丽水",value:174508}, 
{name:"恩施土家族苗族自治州",value:25537}, 
{name:"哈密地区",value:12144}, 
{name:"宜宾",value:67152}, 
{name:"临汾",value:273453}, 
{name:"保定",value:622913}, 
{name:"徐州",value:439215}, 
{name:"芜湖",value:70795}, 
{name:"朝阳",value:85714}, 
{name:"辽阳",value:152698}, 
{name:"十堰",value:70175}, 
{name:"阿克苏地区",value:19349}, 
{name:"贵港",value:63077}, 
{name:"海南藏族自治州",value:1936}, 
{name:"黔南布依族苗族自治州",value:41572}, 
{name:"晋中",value:224799}, 
{name:"茂名",value:103098}, 
{name:"福州",value:768475}, 
{name:"宝鸡",value:186538}, 
{name:"沈阳",value:1713142}, 
{name:"和田地区",value:1216}, 
{name:"驻马店",value:56781}, 
{name:"日照",value:145296}, 
{name:"宜昌",value:94511}, 
{name:"贵阳",value:322196}, 
{name:"淮安",value:144488}, 
{name:"蚌埠",value:60956}, 
{name:"吉安",value:64959}, 
{name:"林芝地区",value:736}, 
{name:"承德",value:95167}, 
{name:"淮南",value:77516}, 
{name:"莱芜",value:76222}, 
{name:"固原",value:18309}, 
{name:"惠州",value:253363}, 
{name:"开封",value:200139}, 
{name:"淮北",value:79600}, 
{name:"荆州",value:66935}, 
{name:"常州",value:147923}, 
{name:"新余",value:15267}, 
{name:"牡丹江",value:272942}, 
{name:"迪庆藏族自治州",value:189}, 
{name:"丽江",value:6100}, 
{name:"萍乡",value:20211}, 
{name:"桂林",value:133039}, 
{name:"铜仁地区",value:41673}, 
{name:"安阳",value:175661}, 
{name:"忻州",value:119382}, 
{name:"白城",value:36859}, 
{name:"西宁",value:105224}, 
{name:"南平",value:75490}, 
{name:"武威",value:8826}, 
{name:"湘潭",value:63762}, 
{name:"宁德",value:75660}, 
{name:"金昌",value:15041}, 
{name:"山南地区",value:497}, 
{name:"天水",value:19939}, 
{name:"怀化",value:65771}, 
{name:"黔西南布依族苗族自治州",value:27548}, 
{name:"张家界",value:32801}, 
{name:"德宏傣族景颇族自治州",value:5974}, 
{name:"昆明",value:470043}, 
{name:"资阳",value:53255}, 
{name:"黔东南苗族侗族自治州",value:38954}, 
{name:"克孜勒苏柯尔克孜自治州",value:1825}, 
{name:"襄樊",value:135399}, 
{name:"石家庄",value:1219587}, 
{name:"深圳",value:1567086}, 
{name:"河源",value:55825}, 
{name:"广州",value:3034479}, 
{name:"达州",value:76367}, 
{name:"大连",value:346712}, 
{name:"东营",value:191005}, 
{name:"广安",value:33585}, 
{name:"甘南藏族自治州",value:1771}, 
{name:"阳江",value:78727}, 
{name:"湛江",value:119572}, 
{name:"石嘴山",value:24653}, 
{name:"巴彦淖尔",value:39946}, 
{name:"菏泽",value:157235}, 
{name:"盐城",value:237703}, 
{name:"临沂",value:317836}, 
{name:"马鞍山",value:44415}, 
{name:"台州",value:248121}, 
{name:"肇庆",value:189129}, 
{name:"南阳",value:188570}, 
{name:"自治区直辖县级行政区划",value:18996}, 
{name:"崇左",value:9519}, 
{name:"咸宁",value:93230}, 
{name:"河池",value:25060}, 
{name:"海东地区",value:4477}, 
{name:"枣庄",value:135654}, 
{name:"江苏省",value:1}, 
{name:"乌兰察布",value:34318}, 
{name:"玉林",value:76397}, 
{name:"永州",value:114517}, 
{name:"六盘水",value:31902}, 
{name:"清远",value:58114}, 
{name:"赣州",value:291379}, 
{name:"双鸭山",value:76406},  
{name:"潍坊",value:340261}, 
{name:"呼和浩特",value:324898}, 
{name:"三门峡",value:95688}, 
{name:"阳泉",value:165852}, 
{name:"昌吉回族自治州",value:40161}, 
{name:"天津",value:3354285}, 
{name:"宁波",value:798156}, 
{name:"伊犁哈萨克自治州",value:71859}, 
{name:"塔城地区",value:26009}, 
{name:"鄂尔多斯",value:89121}, 
{name:"泉州",value:435805}, 
{name:"合肥",value:931519}, 
{name:"吴忠",value:23390}, 
{name:"兴安盟",value:30714}, 
{name:"百色",value:23623}, 
{name:"漯河",value:100110}, 
{name:"防城港",value:9858}, 
{name:"黄南藏族自治州",value:397}, 
{name:"威海",value:149324}, 
{name:"湖北省",value:1}, 
{name:"成都",value:1990716}, 
{name:"东莞",value:1008687}, 
{name:"攀枝花",value:29288}, 
{name:"铜川",value:13157}, 
{name:"鹤壁",value:37718}, 
{name:"克拉玛依",value:15645}, 
{name:"平凉",value:14270}, 
{name:"武汉",value:1585566}, 
{name:"乐山",value:182875}, 
{name:"博尔塔拉蒙古自治州",value:17823}, 
{name:"盘锦",value:112748}, 
{name:"吐鲁番地区",value:20057}, 
{name:"邯郸",value:443210}, 
{name:"眉山",value:28928}, 
{name:"大理白族自治州",value:11895}, 
{name:"甘孜藏族自治州",value:7031}, 
{name:"定西",value:3109}, 
{name:"杭州",value:1215837}, 
{name:"景德镇",value:69953}, 
{name:"中山",value:245118}, 
{name:"葫芦岛",value:131115}, 
{name:"黄山",value:31062}, 
{name:"莆田",value:37870}, 
{name:"镇江",value:105939}, 
{name:"南充",value:54905}, 
{name:"吕梁",value:122773}, 
{name:"衡阳",value:143107}, 
{name:"益阳",value:130098}, 
{name:"平顶山",value:278924}
];
var geoCoordMap = {
    '海门':[121.15,31.89],
    '鄂尔多斯':[109.781327,39.608266],
    '招远':[120.38,37.35],
    '舟山':[122.207216,29.985295],
    '齐齐哈尔':[123.97,47.33],
    '盐城':[120.13,33.38],
    '赤峰':[118.87,42.28],
    '青岛':[120.33,36.07],
    '乳山':[121.52,36.89],
    '金昌':[102.188043,38.520089],
    '泉州':[118.58,24.93],
    '莱西':[120.53,36.86],
    '日照':[119.46,35.42],
    '胶南':[119.97,35.88],
    '南通':[121.05,32.08],
    '拉萨':[91.11,29.97],
    '云浮':[112.02,22.93],
    '梅州':[116.1,24.55],
    '文登':[122.05,37.2],
    '上海':[121.48,31.22],
    '攀枝花':[101.718637,26.582347],
    '威海':[122.1,37.5],
    '承德':[117.93,40.97],
    '厦门':[118.1,24.46],
    '汕尾':[115.375279,22.786211],
    '潮州':[116.63,23.68],
    '丹东':[124.37,40.13],
    '太仓':[121.1,31.45],
    '曲靖':[103.79,25.51],
    '烟台':[121.39,37.52],
    '福州':[119.3,26.08],
    '瓦房店':[121.979603,39.627114],
    '即墨':[120.45,36.38],
    '抚顺':[123.97,41.97],
    '玉溪':[102.52,24.35],
    '张家口':[114.87,40.82],
    '阳泉':[113.57,37.85],
    '莱州':[119.942327,37.177017],
    '湖州':[120.1,30.86],
    '汕头':[116.69,23.39],
    '昆山':[120.95,31.39],
    '宁波':[121.56,29.86],
    '湛江':[110.359377,21.270708],
    '揭阳':[116.35,23.55],
    '荣成':[122.41,37.16],
    '连云港':[119.16,34.59],
    '葫芦岛':[120.836932,40.711052],
    '常熟':[120.74,31.64],
    '东莞':[113.75,23.04],
    '河源':[114.68,23.73],
    '淮安':[119.15,33.5],
    '泰州':[119.9,32.49],
    '南宁':[108.33,22.84],
    '营口':[122.18,40.65],
    '惠州':[114.4,23.09],
    '江阴':[120.26,31.91],
    '蓬莱':[120.75,37.8],
    '韶关':[113.62,24.84],
    '嘉峪关':[98.289152,39.77313],
    '广州':[113.23,23.16],
    '延安':[109.47,36.6],
    '太原':[112.53,37.87],
    '清远':[113.01,23.7],
    '中山':[113.38,22.52],
    '昆明':[102.73,25.04],
    '寿光':[118.73,36.86],
    '盘锦':[122.070714,41.119997],
    '长治':[113.08,36.18],
    '深圳':[114.07,22.62],
    '珠海':[113.52,22.3],
    '宿迁':[118.3,33.96],
    '咸阳':[108.72,34.36],
    '铜川':[109.11,35.09],
    '平度':[119.97,36.77],
    '佛山':[113.11,23.05],
    '海口':[110.35,20.02],
    '江门':[113.06,22.61],
    '章丘':[117.53,36.72],
    '肇庆':[112.44,23.05],
    '大连':[121.62,38.92],
    '临汾':[111.5,36.08],
    '吴江':[120.63,31.16],
    '石嘴山':[106.39,39.04],
    '沈阳':[123.38,41.8],
    '苏州':[120.62,31.32],
    '茂名':[110.88,21.68],
    '嘉兴':[120.76,30.77],
    '长春':[125.35,43.88],
    '胶州':[120.03336,36.264622],
    '银川':[106.27,38.47],
    '张家港':[120.555821,31.875428],
    '三门峡':[111.19,34.76],
    '锦州':[121.15,41.13],
    '南昌':[115.89,28.68],
    '柳州':[109.4,24.33],
    '三亚':[109.511909,18.252847],
    '自贡':[104.778442,29.33903],
    '吉林':[126.57,43.87],
    '阳江':[111.95,21.85],
    '泸州':[105.39,28.91],
    '西宁':[101.74,36.56],
    '宜宾':[104.56,29.77],
    '呼和浩特':[111.65,40.82],
    '成都':[104.06,30.67],
    '大同':[113.3,40.12],
    '镇江':[119.44,32.2],
    '桂林':[110.28,25.29],
    '张家界':[110.479191,29.117096],
    '宜兴':[119.82,31.36],
    '北海':[109.12,21.49],
    '西安':[108.95,34.27],
    '金坛':[119.56,31.74],
    '东营':[118.49,37.46],
    '牡丹江':[129.58,44.6],
    '遵义':[106.9,27.7],
    '绍兴':[120.58,30.01],
    '扬州':[119.42,32.39],
    '常州':[119.95,31.79],
    '潍坊':[119.1,36.62],
    '重庆':[106.54,29.59],
    '台州':[121.420757,28.656386],
    '南京':[118.78,32.04],
    '滨州':[118.03,37.36],
    '贵阳':[106.71,26.57],
    '无锡':[120.29,31.59],
    '本溪':[123.73,41.3],
    '克拉玛依':[84.77,45.59],
    '渭南':[109.5,34.52],
    '马鞍山':[118.48,31.56],
    '宝鸡':[107.15,34.38],
    '焦作':[113.21,35.24],
    '句容':[119.16,31.95],
    '北京':[116.46,39.92],
    '徐州':[117.2,34.26],
    '衡水':[115.72,37.72],
    '包头':[110,40.58],
    '绵阳':[104.73,31.48],
    '乌鲁木齐':[87.68,43.77],
    '枣庄':[117.57,34.86],
    '杭州':[120.19,30.26],
    '淄博':[118.05,36.78],
    '鞍山':[122.85,41.12],
    '溧阳':[119.48,31.43],
    '库尔勒':[86.06,41.68],
    '安阳':[114.35,36.1],
    '开封':[114.35,34.79],
    '济南':[117,36.65],
    '德阳':[104.37,31.13],
    '温州':[120.65,28.01],
    '九江':[115.97,29.71],
    '邯郸':[114.47,36.6],
    '临安':[119.72,30.23],
    '兰州':[103.73,36.03],
    '沧州':[116.83,38.33],
    '临沂':[118.35,35.05],
    '南充':[106.110698,30.837793],
    '天津':[117.2,39.13],
    '富阳':[119.95,30.07],
    '泰安':[117.13,36.18],
    '诸暨':[120.23,29.71],
    '郑州':[113.65,34.76],
    '哈尔滨':[126.63,45.75],
    '聊城':[115.97,36.45],
    '芜湖':[118.38,31.33],
    '唐山':[118.02,39.63],
    '平顶山':[113.29,33.75],
    '邢台':[114.48,37.05],
    '德州':[116.29,37.45],
    '济宁':[116.59,35.38],
    '荆州':[112.239741,30.335165],
    '宜昌':[111.3,30.7],
    '义乌':[120.06,29.32],
    '丽水':[119.92,28.45],
    '洛阳':[112.44,34.7],
    '秦皇岛':[119.57,39.95],
    '株洲':[113.16,27.83],
    '石家庄':[114.48,38.03],
    '莱芜':[117.67,36.19],
    '常德':[111.69,29.05],
    '保定':[115.48,38.85],
    '湘潭':[112.91,27.87],
    '金华':[119.64,29.12],
    '岳阳':[113.09,29.37],
    '长沙':[113,28.21],
    '衢州':[118.88,28.97],
    '廊坊':[116.7,39.53],
    '菏泽':[115.480656,35.23375],
    '合肥':[117.27,31.86],
    '武汉':[114.31,30.52],
    '大庆':[125.03,46.58]
};

var convertData = function (data) {
    var res = [];
    for (var i = 0; i < data.length; i++) {
        var geoCoord = geoCoordMap[data[i].name];
        if (geoCoord) {
            res.push({
                name: data[i].name,
                value: geoCoord.concat(data[i].value/50000)
            });
        }
    }
    return res;
};

option = {
    backgroundColor: '#404a59',
    title: {
        text: '全国主要城市空气质量',
        subtext: 'data from PM25.in',
        sublink: 'http://www.pm25.in',
        left: 'center',
        textStyle: {
            color: '#fff'
        }
    },
    tooltip : {
        trigger: 'item'
    },
    legend: {
        orient: 'vertical',
        y: 'bottom',
        x:'right',
        data:['pm2.5'],
        textStyle: {
            color: '#fff'
        }
    },
    geo: {
        map: 'china',
        label: {
            emphasis: {
                show: false
            }
        },
        roam: true,
        itemStyle: {
            normal: {
                areaColor: '#323c48',
                borderColor: '#111'
            },
            emphasis: {
                areaColor: '#2a333d'
            }
        }
    },
    series : [
        {
            name: 'pm2.5',
            type: 'scatter',
            coordinateSystem: 'geo',
            data: convertData(data),
            symbolSize: function (val) {
                return val[2] / 10;
            },
            label: {
                normal: {
                    formatter: '{b}',
                    position: 'right',
                    show: false
                },
                emphasis: {
                    show: true
                }
            },
            itemStyle: {
                normal: {
                    color: '#ddb926'
                }
            }
        },
        {
            name: 'Top 5',
            type: 'effectScatter',
            coordinateSystem: 'geo',
            data: convertData(data.sort(function (a, b) {
                return b.value - a.value;
            }).slice(0, 6)),
            symbolSize: function (val) {
                return val[2] / 10;
            },
            showEffectOn: 'render',
            rippleEffect: {
                brushType: 'stroke'
            },
            hoverAnimation: true,
            label: {
                normal: {
                    formatter: '{b}',
                    position: 'right',
                    show: true
                }
            },
            itemStyle: {
                normal: {
                    color: '#f4e925',
                    shadowBlur: 10,
                    shadowColor: '#333'
                }
            },
            zlevel: 1
        }
    ]
};

var chart = echarts.init(document.getElementById('mapChart'));
chart.setOption(option);
</script>

</html>
